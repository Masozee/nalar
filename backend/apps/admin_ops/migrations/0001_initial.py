# Generated by Django 5.2.8 on 2025-11-23 04:40

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Driver',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('license_number', models.CharField(max_length=50, unique=True, verbose_name='SIM Number')),
                ('license_type', models.CharField(help_text='A, B1, B2, etc.', max_length=10)),
                ('license_expiry', models.DateField()),
                ('phone', models.CharField(max_length=20)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='driver_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Driver',
                'verbose_name_plural': 'Drivers',
            },
        ),
        migrations.CreateModel(
            name='Room',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('name', models.CharField(max_length=100)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('room_type', models.CharField(choices=[('meeting', 'Ruang Meeting'), ('conference', 'Ruang Konferensi'), ('training', 'Ruang Training'), ('auditorium', 'Auditorium'), ('boardroom', 'Ruang Direksi'), ('huddle', 'Ruang Diskusi Kecil')], default='meeting', max_length=20)),
                ('floor', models.CharField(blank=True, max_length=10)),
                ('building', models.CharField(blank=True, max_length=100)),
                ('capacity', models.PositiveIntegerField(default=10)),
                ('description', models.TextField(blank=True)),
                ('has_projector', models.BooleanField(default=False)),
                ('has_whiteboard', models.BooleanField(default=False)),
                ('has_video_conference', models.BooleanField(default=False)),
                ('has_teleconference', models.BooleanField(default=False)),
                ('has_ac', models.BooleanField(default=True)),
                ('requires_approval', models.BooleanField(default=False)),
                ('max_booking_hours', models.PositiveIntegerField(default=8)),
                ('advance_booking_days', models.PositiveIntegerField(default=30)),
            ],
            options={
                'verbose_name': 'Room',
                'verbose_name_plural': 'Rooms',
                'ordering': ['building', 'floor', 'name'],
                'indexes': [models.Index(fields=['code'], name='admin_ops_r_code_e1089d_idx'), models.Index(fields=['room_type'], name='admin_ops_r_room_ty_505789_idx'), models.Index(fields=['is_active'], name='admin_ops_r_is_acti_ccb68a_idx')],
            },
        ),
        migrations.CreateModel(
            name='Vehicle',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('name', models.CharField(max_length=100)),
                ('plate_number', models.CharField(max_length=20, unique=True)),
                ('vehicle_type', models.CharField(choices=[('car', 'Mobil'), ('mpv', 'MPV'), ('suv', 'SUV'), ('van', 'Van'), ('bus', 'Bus'), ('motorcycle', 'Motor')], default='car', max_length=20)),
                ('brand', models.CharField(max_length=50)),
                ('model', models.CharField(max_length=50)),
                ('year', models.PositiveIntegerField()),
                ('color', models.CharField(blank=True, max_length=30)),
                ('capacity', models.PositiveIntegerField(default=4, help_text='Passenger capacity')),
                ('status', models.CharField(choices=[('available', 'Tersedia'), ('in_use', 'Sedang Digunakan'), ('maintenance', 'Dalam Perawatan'), ('unavailable', 'Tidak Tersedia')], default='available', max_length=20)),
                ('stnk_expiry', models.DateField(blank=True, null=True, verbose_name='STNK Expiry')),
                ('kir_expiry', models.DateField(blank=True, null=True, verbose_name='KIR Expiry')),
                ('insurance_expiry', models.DateField(blank=True, null=True)),
                ('last_service_date', models.DateField(blank=True, null=True)),
                ('next_service_date', models.DateField(blank=True, null=True)),
                ('current_odometer', models.PositiveIntegerField(default=0, help_text='Current KM')),
                ('notes', models.TextField(blank=True)),
                ('assigned_driver', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_vehicles', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vehicle',
                'verbose_name_plural': 'Vehicles',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='VehicleBooking',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('purpose', models.CharField(max_length=200)),
                ('destination', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('start_time', models.DateTimeField()),
                ('end_time', models.DateTimeField()),
                ('actual_start_time', models.DateTimeField(blank=True, null=True)),
                ('actual_end_time', models.DateTimeField(blank=True, null=True)),
                ('passenger_count', models.PositiveIntegerField(default=1)),
                ('passengers', models.TextField(blank=True, help_text='List of passenger names')),
                ('status', models.CharField(choices=[('pending', 'Menunggu'), ('approved', 'Disetujui'), ('rejected', 'Ditolak'), ('in_progress', 'Sedang Berlangsung'), ('completed', 'Selesai'), ('cancelled', 'Dibatalkan')], default='pending', max_length=20)),
                ('start_odometer', models.PositiveIntegerField(blank=True, null=True)),
                ('end_odometer', models.PositiveIntegerField(blank=True, null=True)),
                ('fuel_used', models.DecimalField(blank=True, decimal_places=2, help_text='Liters', max_digits=6, null=True)),
                ('fuel_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_vehicle_bookings', to=settings.AUTH_USER_MODEL)),
                ('booked_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vehicle_bookings', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('driver', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='trips', to='admin_ops.driver')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('vehicle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bookings', to='admin_ops.vehicle')),
            ],
            options={
                'verbose_name': 'Vehicle Booking',
                'verbose_name_plural': 'Vehicle Bookings',
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='VehicleMaintenance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('maintenance_type', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('service_date', models.DateField()),
                ('odometer_reading', models.PositiveIntegerField()),
                ('cost', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('vendor', models.CharField(blank=True, max_length=200)),
                ('next_service_odometer', models.PositiveIntegerField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('vehicle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='maintenance_records', to='admin_ops.vehicle')),
            ],
            options={
                'verbose_name': 'Vehicle Maintenance',
                'verbose_name_plural': 'Vehicle Maintenance Records',
                'ordering': ['-service_date'],
            },
        ),
        migrations.CreateModel(
            name='Visitor',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('name', models.CharField(max_length=200)),
                ('company', models.CharField(blank=True, max_length=200)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(max_length=20)),
                ('id_type', models.CharField(choices=[('ktp', 'KTP'), ('sim', 'SIM'), ('passport', 'Passport'), ('kitas', 'KITAS'), ('other', 'Lainnya')], default='ktp', max_length=20)),
                ('id_number', models.CharField(blank=True, max_length=50)),
                ('photo', models.ImageField(blank=True, null=True, upload_to='visitors/photos/')),
                ('notes', models.TextField(blank=True)),
                ('is_blacklisted', models.BooleanField(default=False)),
                ('blacklist_reason', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Visitor',
                'verbose_name_plural': 'Visitors',
                'ordering': ['name'],
                'indexes': [models.Index(fields=['name'], name='admin_ops_v_name_0fc8fa_idx'), models.Index(fields=['phone'], name='admin_ops_v_phone_dc5c45_idx'), models.Index(fields=['company'], name='admin_ops_v_company_4d9d74_idx'), models.Index(fields=['is_blacklisted'], name='admin_ops_v_is_blac_26ecad_idx')],
            },
        ),
        migrations.CreateModel(
            name='VisitLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('visitor_name', models.CharField(max_length=200)),
                ('visitor_company', models.CharField(blank=True, max_length=200)),
                ('visitor_phone', models.CharField(blank=True, max_length=20)),
                ('visitor_id_type', models.CharField(choices=[('ktp', 'KTP'), ('sim', 'SIM'), ('passport', 'Passport'), ('kitas', 'KITAS'), ('other', 'Lainnya')], default='ktp', max_length=20)),
                ('visitor_id_number', models.CharField(blank=True, max_length=50)),
                ('purpose', models.CharField(choices=[('meeting', 'Meeting'), ('interview', 'Interview'), ('delivery', 'Pengiriman'), ('vendor', 'Vendor/Supplier'), ('guest', 'Tamu'), ('contractor', 'Kontraktor'), ('government', 'Pemerintah'), ('other', 'Lainnya')], default='meeting', max_length=20)),
                ('purpose_detail', models.TextField(blank=True)),
                ('host_name', models.CharField(blank=True, max_length=200)),
                ('host_department', models.CharField(blank=True, max_length=100)),
                ('expected_arrival', models.DateTimeField(blank=True, null=True)),
                ('check_in_time', models.DateTimeField(blank=True, null=True)),
                ('check_out_time', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('expected', 'Diharapkan'), ('checked_in', 'Check In'), ('checked_out', 'Check Out'), ('no_show', 'Tidak Hadir'), ('cancelled', 'Dibatalkan')], default='expected', max_length=20)),
                ('badge_number', models.CharField(blank=True, max_length=20)),
                ('belongings', models.TextField(blank=True, help_text='Items brought by visitor')),
                ('notes', models.TextField(blank=True)),
                ('is_pre_registered', models.BooleanField(default=False)),
                ('checked_in_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='visitor_check_ins', to=settings.AUTH_USER_MODEL)),
                ('checked_out_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='visitor_check_outs', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('host', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hosted_visits', to=settings.AUTH_USER_MODEL)),
                ('pre_registered_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pre_registered_visits', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('visitor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='visits', to='admin_ops.visitor')),
            ],
            options={
                'verbose_name': 'Visit Log',
                'verbose_name_plural': 'Visit Logs',
                'ordering': ['-check_in_time', '-expected_arrival'],
            },
        ),
        migrations.CreateModel(
            name='VisitorBadge',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('badge_number', models.CharField(max_length=20, unique=True)),
                ('badge_type', models.CharField(default='Visitor', max_length=50)),
                ('is_available', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
                ('current_holder', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='badges_held', to='admin_ops.visitlog')),
            ],
            options={
                'verbose_name': 'Visitor Badge',
                'verbose_name_plural': 'Visitor Badges',
                'ordering': ['badge_number'],
            },
        ),
        migrations.CreateModel(
            name='RoomBooking',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('start_time', models.DateTimeField()),
                ('end_time', models.DateTimeField()),
                ('status', models.CharField(choices=[('pending', 'Menunggu'), ('approved', 'Disetujui'), ('rejected', 'Ditolak'), ('cancelled', 'Dibatalkan'), ('completed', 'Selesai')], default='pending', max_length=20)),
                ('expected_attendees', models.PositiveIntegerField(default=1)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('cancelled_at', models.DateTimeField(blank=True, null=True)),
                ('cancellation_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_room_bookings', to=settings.AUTH_USER_MODEL)),
                ('booked_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='room_bookings', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('room', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bookings', to='admin_ops.room')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Room Booking',
                'verbose_name_plural': 'Room Bookings',
                'ordering': ['-start_time'],
                'indexes': [models.Index(fields=['room', 'start_time', 'end_time'], name='admin_ops_r_room_id_0cf401_idx'), models.Index(fields=['booked_by', 'status'], name='admin_ops_r_booked__e4d40c_idx'), models.Index(fields=['status'], name='admin_ops_r_status_444916_idx'), models.Index(fields=['start_time'], name='admin_ops_r_start_t_8dcf0c_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='vehicle',
            index=models.Index(fields=['plate_number'], name='admin_ops_v_plate_n_654f8f_idx'),
        ),
        migrations.AddIndex(
            model_name='vehicle',
            index=models.Index(fields=['status'], name='admin_ops_v_status_439a2c_idx'),
        ),
        migrations.AddIndex(
            model_name='vehicle',
            index=models.Index(fields=['vehicle_type'], name='admin_ops_v_vehicle_1bee44_idx'),
        ),
        migrations.AddIndex(
            model_name='vehiclebooking',
            index=models.Index(fields=['vehicle', 'start_time', 'end_time'], name='admin_ops_v_vehicle_b329b2_idx'),
        ),
        migrations.AddIndex(
            model_name='vehiclebooking',
            index=models.Index(fields=['booked_by', 'status'], name='admin_ops_v_booked__0bf766_idx'),
        ),
        migrations.AddIndex(
            model_name='vehiclebooking',
            index=models.Index(fields=['status'], name='admin_ops_v_status_a851c5_idx'),
        ),
        migrations.AddIndex(
            model_name='vehiclebooking',
            index=models.Index(fields=['start_time'], name='admin_ops_v_start_t_021d49_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['visitor_name'], name='admin_ops_v_visitor_dbf380_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['status'], name='admin_ops_v_status_275be7_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['check_in_time'], name='admin_ops_v_check_i_4e1d61_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['expected_arrival'], name='admin_ops_v_expecte_026bbe_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['host'], name='admin_ops_v_host_id_aef53d_idx'),
        ),
        migrations.AddIndex(
            model_name='visitlog',
            index=models.Index(fields=['purpose'], name='admin_ops_v_purpose_fc08e0_idx'),
        ),
    ]
